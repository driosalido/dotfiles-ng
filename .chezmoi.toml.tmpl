[data]
    name = "David Riosalido"
    # Auto-detect email from git config, fallback to prompt
    email = "{{ or (env "GIT_AUTHOR_EMAIL") (output "git" "config" "--global" "user.email" | trim) "user@example.com" }}"
    
    # Environment detection - default to personal, can be overridden
    is_personal = {{ env "DOTFILES_PERSONAL" | default "true" }}
    is_corporate = {{ if eq (env "DOTFILES_PERSONAL" | default "true") "true" }}false{{ else }}true{{ end }}
    use_secrets = {{ env "DOTFILES_USE_SECRETS" | default "true" }}
    
    # Platform detection
    is_macos = {{ if eq .chezmoi.os "darwin" }}true{{ else }}false{{ end }}
    is_linux = {{ if eq .chezmoi.os "linux" }}true{{ else }}false{{ end }}
    
    # Tool detection
    has_1password = {{ if lookPath "op" }}true{{ else }}false{{ end }}
    has_brew = {{ if lookPath "brew" }}true{{ else }}false{{ end }}
    has_delta = {{ if lookPath "delta" }}true{{ else }}false{{ end }}
    has_code = {{ if lookPath "code" }}true{{ else }}false{{ end }}
    has_ohmyzsh = {{ if stat (joinPath .chezmoi.homeDir ".local/share/oh-my-zsh") }}true{{ else }}false{{ end }}
    
    # XDG directories
    xdg_bin_home = "{{ .chezmoi.homeDir }}/.local/bin"
    xdg_cache_home = "{{ .chezmoi.homeDir }}/.cache"
    xdg_config_home = "{{ .chezmoi.homeDir }}/.config"
    xdg_data_home = "{{ .chezmoi.homeDir }}/.local/share"
    xdg_state_home = "{{ .chezmoi.homeDir }}/.local/state"

[git]
    autoCommit = true
    autoPush = false

[diff]
    {{- if lookPath "delta" }}
    command = "delta"
    {{- else }}
    command = "diff"
    {{- end }}

[edit]
    {{- if lookPath "code" }}
    command = "code"
    args = ["--wait"]
    {{- else if lookPath "nvim" }}
    command = "nvim"
    {{- else }}
    command = "nano"
    {{- end }}

[merge]
    {{- if lookPath "code" }}
    command = "code"
    args = ["--wait", "--merge"]
    {{- end }}